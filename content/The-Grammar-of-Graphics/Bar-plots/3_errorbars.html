---
title: "Errorbars"
author: "Mitchell Stares"
weight: 43
date: "2018-11-12"
output: blogdown::html_page
editor_options:
  chunk_output_type: console
---



<p>Error bars are a simply addition to your graph, utilising their own geometric command <code>geom_errorbar()</code>.
To add the error bars, we use the following command</p>
<pre class="r"><code>ggplot(weeds.summarise, aes(x=species, y=mean)) +
  geom_bar(stat=&quot;identity&quot;)+
  geom_errorbar(aes(ymin = mean-se, ymax = mean+se))</code></pre>
<p><img src="/The-Grammar-of-Graphics/Bar-plots/3_errorbars_files/figure-html/unnamed-chunk-2-1.png" width="672" />
This is suprisingly simple. All we do is specify the aesthetic (aes) where we compute our minimum and maximum y values for our bars as our mean column +/- our standard error column.</p>
<p>We can further customise our errorbars through the use of a few arguments. Lets explore those iteratively.</p>
<div id="size" class="section level4">
<h4>Size</h4>
<pre class="r"><code>ggplot(weeds.summarise, aes(x=species, y=mean)) +
  geom_bar(stat=&quot;identity&quot;)+
  geom_errorbar(aes(ymin = mean-se, ymax = mean+se), size = 2)</code></pre>
<p><img src="/The-Grammar-of-Graphics/Bar-plots/3_errorbars_files/figure-html/unnamed-chunk-3-1.png" width="672" />
The size argument increases the thickness of the errorbars</p>
</div>
<div id="colour-linetype-and-transparency" class="section level4">
<h4>Colour, linetype and transparency</h4>
<p>We can also change the colour, linetype, and transparency.</p>
<pre class="r"><code>ggplot(weeds.summarise, aes(x=species, y=mean)) +
  geom_bar(stat=&quot;identity&quot;)+
  geom_errorbar(aes(ymin = mean-se, ymax = mean+se), colour = &quot;red&quot;)</code></pre>
<p><img src="/The-Grammar-of-Graphics/Bar-plots/3_errorbars_files/figure-html/unnamed-chunk-4-1.png" width="672" />
Colour is as straightforward as usual, just name a colour.</p>
<p>For linetype, we specify a number between 1-6 that corresponds to R’s built in linetypes.
<img src="/images/lines.png?width=15pc&amp;height=15pc" alt="R Linetypes" /></p>
<pre class="r"><code>ggplot(weeds.summarise, aes(x=species, y=mean)) +
  geom_bar(stat=&quot;identity&quot;)+
  geom_errorbar(aes(ymin = mean-se, ymax = mean+se), colour = &quot;red&quot;, linetype = 2)</code></pre>
<p><img src="/The-Grammar-of-Graphics/Bar-plots/3_errorbars_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Transparency is specified throught the <code>alpha</code> argument, giving a number between 0 (transparent) and 1 (solid). It’s pretty pointless for errorbars, but it can be used for many other functions.</p>
<pre class="r"><code>ggplot(weeds.summarise, aes(x=species, y=mean)) +
  geom_bar(stat=&quot;identity&quot;)+
  geom_errorbar(aes(ymin = mean-se, ymax = mean+se), size = 2, alpha = 0.5)</code></pre>
<p><img src="/The-Grammar-of-Graphics/Bar-plots/3_errorbars_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="width" class="section level4">
<h4>Width</h4>
<p>The width argument is arguably the most important aesthetical customisation for errorbars. Width customises the width of the errorbars compared to the width of the bars.</p>
<pre class="r"><code>ggplot(weeds.summarise, aes(x=species, y=mean)) +
  geom_bar(stat=&quot;identity&quot;)+
  geom_errorbar(aes(ymin = mean-se, ymax = mean+se), width = 0.5)</code></pre>
<p><img src="/The-Grammar-of-Graphics/Bar-plots/3_errorbars_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>The default width value for errorbars is 0.9, that is 90% of the width of the bar.</p>
</div>
<div id="position" class="section level4">
<h4>Position</h4>
<p>When plotting multiple errorbars, much like with standard bars, the default structure is to “stack” the bars in a single column. We can alter the position of errorbars through the use of the “position” argument.</p>
<p>Altering the position of errorbars in bar graphs has given me alot of headaches over the years. This gets more finicky the more complex your graph is, so I hope the below solution fixes all of your future problems :)</p>
<p>For this example, I am using our “interaction” bargraph to demonstrate.</p>
<pre class="r"><code>ggplot(weeds.summarise2, aes(x=soil, y=mean, fill=species)) +
  geom_bar(stat=&quot;identity&quot;, position=&quot;dodge&quot;)+
  geom_errorbar(aes(ymin = mean-se, ymax = mean+se), width = 0.5, position=position_dodge(0.9))</code></pre>
<p><img src="/The-Grammar-of-Graphics/Bar-plots/3_errorbars_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>To alter the position of our errorbars we include the <code>position=position_dodge(0.9)</code> argument to match our original <code>position=&quot;dodge&quot;</code> in our bar line. You will notice these two arguments have different values and syntax. The standard <code>position=&quot;dodge&quot;</code> does work for the errorbars, but I have had very mixed results. The <code>position=position_dodge(0.9)</code> is slightly more annoying, but tends to work alot more. The 0.9 value is the default for the errorbars and refers to the distance between the middle errorbar and the left and/or right errobars when dodged. If your errobar comes out a little “funky”, modify this value.</p>
</div>
