---
title: "Analysis of Variance"
weight: 11
date: '2018-10-26'
output: blogdown::html_page
editor_options:
  chunk_output_type: console
---
```{r knitr options, message=FALSE, warning=FALSE, include=FALSE}
library(knitr)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
```
```{r message=FALSE, warning=FALSE, include=FALSE}
weeds<-read.csv("../../resources/datafiles/weeds.csv")
library(tidyverse)
weeds <- rename(weeds, flowers = flowers.m3)
frogsp<-read.csv("../../resources/datafiles/frogs.csv", header=TRUE)
enviro<-read.csv("../../resources/datafiles/frog_environmental.csv", header=TRUE)
insect <- read.csv("../../resources/datafiles/insecticide.csv", header=TRUE)
```
  
  
#### 1. Analysis of Variance (ANOVA)  

To begin our foray into statistics in R, we will start with the most basic and most useful analysis, **Analysis of Variance (ANOVA)**. An ANOVA is used to test the effect of 1 or more categorical explanatory variables (X) on a continuous response variable (Y). The ANOVA tests the difference between the factors variance (distance from the grand mean) compared to the error variance. The variance for each point is squared and added together to generate the sum of squares, which is then used to generate the **F ratio**. The **F ratio** is then compared to a critical value from a table of values (based of degrees of freedom) to determine the level of significance, or **P value**.   

In this module, we will be using a variety of datasets to test each analysis. These will be specified in each section before the code chunk in **bold**.   

For this analysis, we will be using the **weeds** dataset.  

To begin the analysis, we need to create an ANOVA object using the **aov()** command. This will tell any **summary()**, **plot()** or other commands that the object is specifically for an ANOVA and as such, will be treated as one.  

The syntax for almost all analyses in R is the same. Within our analysis command (**aov()** in this example) we write a line equation for our analysis:  

  **y ~ x**  
      
This is simply your response variable (Y) and explanatory variable(s) (X) separated by a tilde ~. The tilde acts as an = sign for the analysis. 
```{r message=FALSE, warning=FALSE}
weeds.aov <- aov(flowers ~ species, data=weeds) # flowers (Y variable) ~ species (X variable), then data =  weeds to direct it to our dataframe. 
# call your object what ever you want, but I tend to name it something to remind me of the dataset/analysis as well as the statistical technique. 
```

Now we have our **aov()** object, it is good practice to test the assumptions before we look at the results of the analysis. Having this workflow in place will hopefully prevent you from "forgetting" assumptions after seeing a significant result.  

**Write Ok in the following box to continue:**  
{1:SHORTANSWER:=Ok}
